// Generated by CIRCT firtool-1.128.0
module CLINT(	// src/main/scala/mycpu/peripherals/CLINT.scala:10:7
  input         clock,	// src/main/scala/mycpu/peripherals/CLINT.scala:10:7
                reset,	// src/main/scala/mycpu/peripherals/CLINT.scala:10:7
  output        io_bus_ar_ready,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input         io_bus_ar_valid,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input  [31:0] io_bus_ar_bits_addr,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  output        io_bus_r_valid,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  output [31:0] io_bus_r_bits_data,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  output        io_bus_aw_ready,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input         io_bus_aw_valid,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input  [31:0] io_bus_aw_bits_addr,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  output        io_bus_w_ready,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input         io_bus_w_valid,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input  [31:0] io_bus_w_bits_data,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  input  [3:0]  io_bus_w_bits_strb,	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
  output        io_bus_b_valid	// src/main/scala/mycpu/peripherals/Peripherals.scala:13:14
);

  wire        _writeBridge_io_req_valid;	// src/main/scala/mycpu/peripherals/CLINT.scala:14:29
  wire        _readBridge_io_req_valid;	// src/main/scala/mycpu/peripherals/CLINT.scala:13:29
  reg         wValid;	// src/main/scala/mycpu/peripherals/CLINT.scala:21:25
  reg         rValid;	// src/main/scala/mycpu/peripherals/CLINT.scala:32:25
  reg  [63:0] mtime;	// src/main/scala/mycpu/peripherals/CLINT.scala:42:24
  always @(posedge clock) begin	// src/main/scala/mycpu/peripherals/CLINT.scala:10:7
    if (reset) begin	// src/main/scala/mycpu/peripherals/CLINT.scala:10:7
      wValid <= 1'h0;	// src/main/scala/mycpu/peripherals/CLINT.scala:21:25
      rValid <= 1'h0;	// src/main/scala/mycpu/peripherals/CLINT.scala:32:25
      mtime <= 64'h0;	// src/main/scala/mycpu/peripherals/CLINT.scala:42:24
    end
    else begin	// src/main/scala/mycpu/peripherals/CLINT.scala:10:7
      wValid <= _writeBridge_io_req_valid;	// src/main/scala/mycpu/peripherals/CLINT.scala:14:29, :21:25
      rValid <= _readBridge_io_req_valid;	// src/main/scala/mycpu/peripherals/CLINT.scala:13:29, :32:25
      mtime <= mtime + 64'h1;	// src/main/scala/mycpu/peripherals/CLINT.scala:42:24, :44:20
    end
  end // always @(posedge)
  AXI4LiteReadSlaveBridge readBridge (	// src/main/scala/mycpu/peripherals/CLINT.scala:13:29
    .clock              (clock),
    .reset              (reset),
    .io_axi_ar_ready    (io_bus_ar_ready),
    .io_axi_ar_valid    (io_bus_ar_valid),
    .io_axi_r_valid     (io_bus_r_valid),
    .io_axi_r_bits_data (io_bus_r_bits_data),
    .io_req_valid       (_readBridge_io_req_valid),
    .io_resp_valid      (rValid),	// src/main/scala/mycpu/peripherals/CLINT.scala:32:25
    .io_resp_bits_rdata (io_bus_ar_bits_addr[2] ? mtime[63:32] : mtime[31:0])	// src/main/scala/mycpu/peripherals/CLINT.scala:42:24, :43:34, :46:{35,60}, src/main/scala/mycpu/peripherals/Peripherals.scala:22:59
  );	// src/main/scala/mycpu/peripherals/CLINT.scala:13:29
  AXI4LiteWriteSlaveBridge writeBridge (	// src/main/scala/mycpu/peripherals/CLINT.scala:14:29
    .clock               (clock),
    .reset               (reset),
    .io_axi_aw_ready     (io_bus_aw_ready),
    .io_axi_aw_valid     (io_bus_aw_valid),
    .io_axi_aw_bits_addr (io_bus_aw_bits_addr),
    .io_axi_w_ready      (io_bus_w_ready),
    .io_axi_w_valid      (io_bus_w_valid),
    .io_axi_w_bits_data  (io_bus_w_bits_data),
    .io_axi_w_bits_strb  (io_bus_w_bits_strb),
    .io_axi_b_valid      (io_bus_b_valid),
    .io_req_valid        (_writeBridge_io_req_valid),
    .io_req_bits_addr    (/* unused */),
    .io_req_bits_wdata   (/* unused */),
    .io_req_bits_wstrb   (/* unused */),
    .io_resp_valid       (wValid)	// src/main/scala/mycpu/peripherals/CLINT.scala:21:25
  );	// src/main/scala/mycpu/peripherals/CLINT.scala:14:29
endmodule

