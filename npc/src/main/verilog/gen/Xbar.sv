// Generated by CIRCT firtool-1.128.0
module Xbar(	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  input         clock,	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
                reset,	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  output        io_in_ar_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_in_ar_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input  [31:0] io_in_ar_bits_addr,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_in_r_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_in_r_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [31:0] io_in_r_bits_data,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [1:0]  io_in_r_bits_resp,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_in_aw_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_in_aw_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input  [31:0] io_in_aw_bits_addr,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_in_w_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_in_w_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input  [31:0] io_in_w_bits_data,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input  [3:0]  io_in_w_bits_strb,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_in_b_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_in_b_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_0_ar_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_0_ar_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [31:0] io_slaves_0_ar_bits_addr,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_0_r_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_0_r_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input  [31:0] io_slaves_0_r_bits_data,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input  [1:0]  io_slaves_0_r_bits_resp,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_0_aw_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_0_aw_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [31:0] io_slaves_0_aw_bits_addr,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_0_w_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_0_w_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [31:0] io_slaves_0_w_bits_data,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [3:0]  io_slaves_0_w_bits_strb,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_0_b_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_0_b_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_1_ar_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_1_r_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
                io_slaves_1_aw_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_1_aw_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [31:0] io_slaves_1_aw_bits_addr,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_1_w_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_1_w_valid,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [31:0] io_slaves_1_w_bits_data,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output [3:0]  io_slaves_1_w_bits_strb,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  output        io_slaves_1_b_ready,	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
  input         io_slaves_1_b_valid	// src/main/scala/mycpu/peripherals/Xbar.scala:13:14
);

  wire ar_hits_0 = io_in_ar_bits_addr[31] & io_in_ar_bits_addr < 32'h84000000;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:{10,29,37}
  wire ar_hits_1 = io_in_ar_bits_addr > 32'hA00003F7 & io_in_ar_bits_addr < 32'hA0000400;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:{10,29,37}
  wire io_in_ar_ready_0 = ar_hits_0 & io_slaves_0_ar_ready | ar_hits_1;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:29, :69:26
  reg  r_slave_sel;	// src/main/scala/mycpu/peripherals/Xbar.scala:72:28
  reg  r_busy;	// src/main/scala/mycpu/peripherals/Xbar.scala:73:28
  wire io_in_r_valid_0 =
    r_busy & (r_slave_sel ? io_slaves_1_r_valid : io_slaves_0_r_valid);	// src/main/scala/mycpu/peripherals/Xbar.scala:48:18, :72:28, :73:28, :84:16, :88:13
  wire aw_hits_0 = io_in_aw_bits_addr[31] & io_in_aw_bits_addr < 32'h84000000;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:{10,29,37}
  wire aw_hits_1 = io_in_aw_bits_addr > 32'hA00003F7 & io_in_aw_bits_addr < 32'hA0000400;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:{10,29,37}
  wire io_slaves_0_aw_valid_0 = aw_hits_0 & io_in_aw_valid;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:29, :99:21
  wire io_slaves_1_aw_valid_0 = aw_hits_1 & io_in_aw_valid;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:29, :99:21
  wire io_in_aw_ready_0 =
    aw_hits_0 & io_slaves_0_aw_ready | aw_hits_1 & io_slaves_1_aw_ready;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:29, :107:26
  reg  w_slave_sel;	// src/main/scala/mycpu/peripherals/Xbar.scala:111:28
  reg  w_busy;	// src/main/scala/mycpu/peripherals/Xbar.scala:112:28
  wire io_in_b_valid_0 =
    w_busy & (w_slave_sel ? io_slaves_1_b_valid : io_slaves_0_b_valid);	// src/main/scala/mycpu/peripherals/Xbar.scala:51:18, :111:28, :112:28, :123:16, :124:13
  always @(posedge clock) begin	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
    if (reset) begin	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
      r_slave_sel <= 1'h0;	// src/main/scala/mycpu/peripherals/Xbar.scala:72:28
      r_busy <= 1'h0;	// src/main/scala/mycpu/peripherals/Xbar.scala:73:28
      w_slave_sel <= 1'h0;	// src/main/scala/mycpu/peripherals/Xbar.scala:111:28
      w_busy <= 1'h0;	// src/main/scala/mycpu/peripherals/Xbar.scala:112:28
    end
    else begin	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
      automatic logic _GEN = io_in_ar_ready_0 & io_in_ar_valid;	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35, src/main/scala/mycpu/peripherals/Xbar.scala:69:26
      automatic logic _GEN_0 = io_in_aw_ready_0 & io_in_aw_valid;	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35, src/main/scala/mycpu/peripherals/Xbar.scala:107:26
      if (_GEN)	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35
        r_slave_sel <= ar_hits_1;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:29, :72:28
      r_busy <= ~(io_in_r_ready & io_in_r_valid_0) & (_GEN | r_busy);	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35, src/main/scala/mycpu/peripherals/Xbar.scala:48:18, :73:28, :75:23, :77:17, :79:22, :80:12, :84:16, :88:13
      if (_GEN_0)	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35
        w_slave_sel <= aw_hits_1;	// src/main/scala/mycpu/peripherals/Xbar.scala:19:29, :111:28
      w_busy <= ~(io_in_b_ready & io_in_b_valid_0) & (_GEN_0 | w_busy);	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35, src/main/scala/mycpu/peripherals/Xbar.scala:51:18, :112:28, :114:23, :116:17, :118:22, :119:12, :123:16, :124:13
    end
  end // always @(posedge)
  assign io_in_ar_ready = io_in_ar_ready_0;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :69:26
  assign io_in_r_valid = io_in_r_valid_0;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :48:18, :84:16, :88:13
  assign io_in_r_bits_data = r_slave_sel ? 32'h0 : io_slaves_0_r_bits_data;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :13:14, :72:28, :88:13
  assign io_in_r_bits_resp = r_slave_sel ? 2'h0 : io_slaves_0_r_bits_resp;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :13:14, :72:28, :88:13
  assign io_in_aw_ready = io_in_aw_ready_0;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :107:26
  assign io_in_w_ready =
    aw_hits_0 & io_slaves_0_w_ready | aw_hits_1 & io_slaves_1_w_ready;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :19:29, :108:26
  assign io_in_b_valid = io_in_b_valid_0;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :51:18, :123:16, :124:13
  assign io_slaves_0_ar_valid = ar_hits_0 & io_in_ar_valid;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :19:29, :63:21
  assign io_slaves_0_ar_bits_addr = io_in_ar_bits_addr;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_0_r_ready = r_busy & ~r_slave_sel & io_in_r_ready;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :39:26, :72:28, :73:28, :84:16, :88:13
  assign io_slaves_0_aw_valid = io_slaves_0_aw_valid_0;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :99:21
  assign io_slaves_0_aw_bits_addr = io_in_aw_bits_addr;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_0_w_valid = io_slaves_0_aw_valid_0 & io_in_w_valid;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :34:27, :99:{21,38}, :102:29
  assign io_slaves_0_w_bits_data = io_in_w_bits_data;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_0_w_bits_strb = io_in_w_bits_strb;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_0_b_ready = w_busy & ~w_slave_sel & io_in_b_ready;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :40:26, :111:28, :112:28, :123:16, :124:13
  assign io_slaves_1_ar_valid = ar_hits_1 & io_in_ar_valid;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :19:29, :63:21
  assign io_slaves_1_aw_valid = io_slaves_1_aw_valid_0;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :99:21
  assign io_slaves_1_aw_bits_addr = io_in_aw_bits_addr;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_1_w_valid = io_slaves_1_aw_valid_0 & io_in_w_valid;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :34:27, :99:{21,38}, :102:29
  assign io_slaves_1_w_bits_data = io_in_w_bits_data;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_1_w_bits_strb = io_in_w_bits_strb;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7
  assign io_slaves_1_b_ready = w_busy & w_slave_sel & io_in_b_ready;	// src/main/scala/mycpu/peripherals/Xbar.scala:9:7, :40:26, :111:28, :112:28, :123:16, :124:13
endmodule

