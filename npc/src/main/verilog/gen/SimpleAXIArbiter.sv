// Generated by CIRCT firtool-1.128.0
module SimpleAXIArbiter(	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  input         clock,	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
                reset,	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  output        io_ifu_ar_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_ifu_ar_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input  [31:0] io_ifu_ar_bits_addr,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_ifu_r_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_ifu_r_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output [31:0] io_ifu_r_bits_data,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_lsu_aw_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_lsu_aw_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input  [31:0] io_lsu_aw_bits_addr,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_lsu_w_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_lsu_w_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input  [31:0] io_lsu_w_bits_data,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input  [3:0]  io_lsu_w_bits_strb,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_lsu_b_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_lsu_b_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
                io_lsu_ar_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_lsu_ar_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input  [31:0] io_lsu_ar_bits_addr,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_lsu_r_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_lsu_r_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output [31:0] io_lsu_r_bits_data,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_mem_aw_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_mem_aw_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output [31:0] io_mem_aw_bits_addr,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_mem_w_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_mem_w_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output [31:0] io_mem_w_bits_data,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output [3:0]  io_mem_w_bits_strb,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_mem_b_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_mem_b_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
                io_mem_ar_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_mem_ar_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output [31:0] io_mem_ar_bits_addr,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  output        io_mem_r_ready,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input         io_mem_r_valid,	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
  input  [31:0] io_mem_r_bits_data	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
);

  reg  [1:0] state;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22
  wire       lsuReq = io_lsu_ar_valid | io_lsu_aw_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:19:32
  wire       _GEN = state == 2'h0;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22, :43:22, :56:17
  wire       _GEN_0 = state == 2'h2;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22, :56:17
  wire       _GEN_1 = state == 2'h1;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22, :56:17, :87:22
  wire       _GEN_2 = _GEN_0 | _GEN & lsuReq;	// src/main/scala/mycpu/memory/Arbiter.scala:19:32, :56:17, :80:{28,53}
  wire       io_mem_b_ready_0 = _GEN_2 & io_lsu_b_ready;	// src/main/scala/mycpu/memory/Arbiter.scala:32:19, :80:{28,65}, :86:15
  wire       _GEN_3 = _GEN_1 | _GEN & io_ifu_ar_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:56:17, :87:{36,61}
  wire       io_mem_r_ready_0 = _GEN_2 ? io_lsu_r_ready : _GEN_3 & io_ifu_r_ready;	// src/main/scala/mycpu/memory/Arbiter.scala:31:19, :80:{28,65}, :85:15, :87:{36,73}, :90:15
  always @(posedge clock) begin	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
    if (reset)	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
      state <= 2'h0;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22, :43:22
    else if (_GEN) begin	// src/main/scala/mycpu/memory/Arbiter.scala:56:17
      if (lsuReq)	// src/main/scala/mycpu/memory/Arbiter.scala:19:32
        state <= 2'h2;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22
      else if (io_ifu_ar_valid)	// src/main/scala/mycpu/memory/Arbiter.scala:7:14
        state <= 2'h1;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22, :87:22
    end
    else if (_GEN_0
               ? io_mem_b_ready_0 & io_mem_b_valid | io_mem_r_ready_0 & io_mem_r_valid
               : _GEN_1 & io_mem_r_ready_0 & io_mem_r_valid)	// src/main/scala/chisel3/util/ReadyValidIO.scala:48:35, src/main/scala/mycpu/memory/Arbiter.scala:16:22, :32:19, :56:17, :67:{22,35}, :68:15, :73:22, :74:15, :80:65, :85:15, :86:15, :87:73
      state <= 2'h0;	// src/main/scala/mycpu/memory/Arbiter.scala:16:22, :43:22
  end // always @(posedge)
  assign io_ifu_ar_ready = ~_GEN_2 & _GEN_3 & io_mem_ar_ready;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :35:19, :80:{28,65}, :87:{36,73}, :89:15
  assign io_ifu_r_valid = ~_GEN_2 & _GEN_3 & io_mem_r_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :35:19, :36:19, :80:{28,65}, :87:{36,73}, :90:15
  assign io_ifu_r_bits_data = io_mem_r_bits_data;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  assign io_lsu_aw_ready = _GEN_2 & io_mem_aw_ready;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :47:19, :80:{28,65}, :83:15
  assign io_lsu_w_ready = _GEN_2 & io_mem_w_ready;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :48:19, :80:{28,65}, :84:15
  assign io_lsu_b_valid = _GEN_2 & io_mem_b_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :51:19, :80:{28,65}, :86:15
  assign io_lsu_ar_ready = _GEN_2 & io_mem_ar_ready;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :46:19, :80:{28,65}, :82:15
  assign io_lsu_r_valid = _GEN_2 & io_mem_r_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :49:19, :80:{28,65}, :85:15
  assign io_lsu_r_bits_data = io_mem_r_bits_data;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  assign io_mem_aw_valid = _GEN_2 & io_lsu_aw_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :27:19, :80:{28,65}, :83:15
  assign io_mem_aw_bits_addr = io_lsu_aw_bits_addr;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  assign io_mem_w_valid = _GEN_2 & io_lsu_w_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :29:19, :80:{28,65}, :84:15
  assign io_mem_w_bits_data = io_lsu_w_bits_data;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  assign io_mem_w_bits_strb = io_lsu_w_bits_strb;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7
  assign io_mem_b_ready = io_mem_b_ready_0;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :32:19, :80:65, :86:15
  assign io_mem_ar_valid = _GEN_2 ? io_lsu_ar_valid : _GEN_3 & io_ifu_ar_valid;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :25:19, :80:{28,65}, :82:15, :87:{36,73}, :89:15
  assign io_mem_ar_bits_addr = _GEN_2 ? io_lsu_ar_bits_addr : io_ifu_ar_bits_addr;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :80:{28,65}, :82:15, :87:73
  assign io_mem_r_ready = io_mem_r_ready_0;	// src/main/scala/mycpu/memory/Arbiter.scala:6:7, :80:65, :85:15, :87:73
endmodule

