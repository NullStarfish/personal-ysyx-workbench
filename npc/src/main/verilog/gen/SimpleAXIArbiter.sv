// Generated by CIRCT firtool-1.128.0
module SimpleAXIArbiter(
  input         clock,
                reset,
  output        io_ifu_ar_ready,
  input         io_ifu_ar_valid,
  input  [31:0] io_ifu_ar_bits_addr,
  input         io_ifu_r_ready,
  output        io_ifu_r_valid,
  output [31:0] io_ifu_r_bits_data,
  output        io_lsu_aw_ready,
  input         io_lsu_aw_valid,
  input  [31:0] io_lsu_aw_bits_addr,
  output        io_lsu_w_ready,
  input         io_lsu_w_valid,
  input  [31:0] io_lsu_w_bits_data,
  input  [3:0]  io_lsu_w_bits_strb,
  input         io_lsu_b_ready,
  output        io_lsu_b_valid,
                io_lsu_ar_ready,
  input         io_lsu_ar_valid,
  input  [31:0] io_lsu_ar_bits_addr,
  input         io_lsu_r_ready,
  output        io_lsu_r_valid,
  output [31:0] io_lsu_r_bits_data,
  input         io_mem_aw_ready,
  output        io_mem_aw_valid,
  output [31:0] io_mem_aw_bits_addr,
  input         io_mem_w_ready,
  output        io_mem_w_valid,
  output [31:0] io_mem_w_bits_data,
  output [3:0]  io_mem_w_bits_strb,
  output        io_mem_b_ready,
  input         io_mem_b_valid,
                io_mem_ar_ready,
  output        io_mem_ar_valid,
  output [31:0] io_mem_ar_bits_addr,
  output        io_mem_r_ready,
  input         io_mem_r_valid,
  input  [31:0] io_mem_r_bits_data
);

  reg  [1:0] state;
  wire       lsuReq = io_lsu_ar_valid | io_lsu_aw_valid;
  wire       _GEN = state == 2'h0;
  wire       _GEN_0 = state == 2'h2;
  wire       _GEN_1 = state == 2'h1;
  wire       _GEN_2 = _GEN_0 | _GEN & lsuReq;
  wire       io_mem_b_ready_0 = _GEN_2 & io_lsu_b_ready;
  wire       _GEN_3 = _GEN_1 | _GEN & io_ifu_ar_valid;
  wire       io_mem_r_ready_0 = _GEN_2 ? io_lsu_r_ready : _GEN_3 & io_ifu_r_ready;
  always @(posedge clock) begin
    if (reset)
      state <= 2'h0;
    else if (_GEN) begin
      if (lsuReq)
        state <= 2'h2;
      else if (io_ifu_ar_valid)
        state <= 2'h1;
    end
    else if (_GEN_0
               ? io_mem_b_ready_0 & io_mem_b_valid | io_mem_r_ready_0 & io_mem_r_valid
               : _GEN_1 & io_mem_r_ready_0 & io_mem_r_valid)
      state <= 2'h0;
  end // always @(posedge)
  assign io_ifu_ar_ready = ~_GEN_2 & _GEN_3 & io_mem_ar_ready;
  assign io_ifu_r_valid = ~_GEN_2 & _GEN_3 & io_mem_r_valid;
  assign io_ifu_r_bits_data = io_mem_r_bits_data;
  assign io_lsu_aw_ready = _GEN_2 & io_mem_aw_ready;
  assign io_lsu_w_ready = _GEN_2 & io_mem_w_ready;
  assign io_lsu_b_valid = _GEN_2 & io_mem_b_valid;
  assign io_lsu_ar_ready = _GEN_2 & io_mem_ar_ready;
  assign io_lsu_r_valid = _GEN_2 & io_mem_r_valid;
  assign io_lsu_r_bits_data = io_mem_r_bits_data;
  assign io_mem_aw_valid = _GEN_2 & io_lsu_aw_valid;
  assign io_mem_aw_bits_addr = io_lsu_aw_bits_addr;
  assign io_mem_w_valid = _GEN_2 & io_lsu_w_valid;
  assign io_mem_w_bits_data = io_lsu_w_bits_data;
  assign io_mem_w_bits_strb = io_lsu_w_bits_strb;
  assign io_mem_b_ready = io_mem_b_ready_0;
  assign io_mem_ar_valid = _GEN_2 ? io_lsu_ar_valid : _GEN_3 & io_ifu_ar_valid;
  assign io_mem_ar_bits_addr = _GEN_2 ? io_lsu_ar_bits_addr : io_ifu_ar_bits_addr;
  assign io_mem_r_ready = io_mem_r_ready_0;
endmodule

