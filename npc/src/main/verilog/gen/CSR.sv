// Generated by CIRCT firtool-1.128.0
module CSR(
  input         clock,
                reset,
  input  [1:0]  io_cmd,
  input  [11:0] io_addr,
  input  [31:0] io_wdata,
  output [31:0] io_rdata,
  input  [31:0] io_pc,
  input         io_isEcall,
                io_isMret,
  output [31:0] io_evec,
                io_epc
);

  reg  [31:0] mstatus;
  reg  [31:0] mtvec;
  reg  [31:0] mepc;
  reg  [31:0] mcause;
  wire        _io_rdata_T = io_addr == 12'h300;
  wire        _io_rdata_T_2 = io_addr == 12'h305;
  wire        _io_rdata_T_4 = io_addr == 12'h341;
  wire        _io_rdata_T_6 = io_addr == 12'h342;
  wire [31:0] io_rdata_0 =
    _io_rdata_T_6
      ? mcause
      : _io_rdata_T_4 ? mepc : _io_rdata_T_2 ? mtvec : _io_rdata_T ? mstatus : 32'h0;
  always @(posedge clock) begin
    if (reset) begin
      mstatus <= 32'h1800;
      mtvec <= 32'h0;
      mepc <= 32'h0;
      mcause <= 32'h0;
    end
    else begin
      automatic logic [3:0][31:0] _GEN =
        {{io_rdata_0 & ~io_wdata}, {io_rdata_0 | io_wdata}, {io_wdata}, {io_rdata_0}};
      automatic logic             _GEN_0 = io_isEcall | io_isMret;
      if (_GEN_0 | ~((|io_cmd) & _io_rdata_T)) begin
      end
      else
        mstatus <= _GEN[io_cmd];
      if (_GEN_0 | ~(|io_cmd) | _io_rdata_T | ~_io_rdata_T_2) begin
      end
      else
        mtvec <= _GEN[io_cmd];
      if (io_isEcall) begin
        mepc <= io_pc;
        mcause <= 32'hB;
      end
      else begin
        if (io_isMret | ~(|io_cmd) | _io_rdata_T | _io_rdata_T_2 | ~_io_rdata_T_4) begin
        end
        else
          mepc <= _GEN[io_cmd];
        if (io_isMret | ~(|io_cmd) | _io_rdata_T | _io_rdata_T_2 | _io_rdata_T_4
            | ~_io_rdata_T_6) begin
        end
        else
          mcause <= _GEN[io_cmd];
      end
    end
  end // always @(posedge)
  assign io_rdata = io_rdata_0;
  assign io_evec = mtvec;
  assign io_epc = mepc;
endmodule

